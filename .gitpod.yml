image: gitpod/workspace-full-vnc

tasks:
  - name: Update
    init: |
      sudo apt-get update
      sudo apt-get upgrade -y
      sudo apt-get autoremove
      sudo apt-get autoclean
      gp sync-done Update
      exit
     
  - name: CondaInstall
    init: |
      gp sync-await Update
      wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda.sh
      bash ~/miniconda.sh -b -p ~/miniconda
      eval "$(~/miniconda/bin/conda shell.bash hook)"
      conda init
      gp sync-done CondaInstall
      exit
    
  - name: CondaEnv
    init: |
      gp sync-await CondaInstall
#  - name: FreeCAD
#    init: |

    

ports:
  - port: 6080
    visibility: public
    onOpen: open-browser

  - port: 1593
    onOpen: ignore

  - port: 5900
    onOpen: ignore

github:
  prebuilds:
    # enable for the master/default branch (defaults to true)
    master: true

additionalRepositories:
  - url: https://github.com/JesseRigon/FreeCAD
    checkoutLocation: FreeCAD

workspaceLocation: FreeCAD-GP/main.code-workspace

